require ("tns-core-modules/globals/globals");
// Give NS a couple seconds to get everything up on main thread...  
setTimeout( () => { startWorker(); }, 3000);
function startWorker() {
    let r1 = {blah: "a"};                            // This is our row data...
    let d = {Hi: "Hi", table1: [r1, r1], table2: [r1]};  // This is our final data...
    global.postMessage({id: 1, data: d, data2: JSON.stringify(d)}); // Send it on thru
}